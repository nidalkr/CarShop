<div class="sales-stats">

  
  <!-- METRICS -->
<section class="row row-cols-1 row-cols-md-2 row-cols-xl-4 g-3 mb-4">

  <!-- 1 -->
  <div class="col">
    <div class="card shadow-sm border-0 rounded-4 metric-card h-100">
      <div class="card-body">
        <div class="metric-top">
          <div class="metric-icon bg-green">
            <span class="material-icons">paid</span>
          </div>
          <span class="metric-pill pill-green">+18%</span>
        </div>

        <div class="metric-kicker mt-3">Monthly Revenue</div>
        <div class="metric-value">$425,000</div>
        <div class="metric-sub text-muted">vs $360K last month</div>
      </div>
    </div>
  </div>

  <!-- 2 -->
  <div class="col">
    <div class="card shadow-sm border-0 rounded-4 metric-card h-100">
      <div class="card-body">
        <div class="metric-top">
          <div class="metric-icon bg-blue">
            <span class="material-icons">directions_car</span>
          </div>
          <span class="metric-pill pill-blue">+8%</span>
        </div>

        <div class="metric-kicker mt-3">Vehicles Sold</div>
        <div class="metric-value">48</div>
        <div class="metric-sub text-muted">vs 44 last month</div>
      </div>
    </div>
  </div>

  <!-- 3 -->
  <div class="col">
    <div class="card shadow-sm border-0 rounded-4 metric-card h-100">
      <div class="card-body">
        <div class="metric-top">
          <div class="metric-icon bg-purple">
            <span class="material-icons">track_changes</span>
          </div>
          <span class="metric-pill pill-purple">92%</span>
        </div>

        <div class="metric-kicker mt-3">Conversion Rate</div>
        <div class="metric-value">23%</div>
        <div class="metric-sub text-muted">From 208 inquiries</div>
      </div>
    </div>
  </div>

  <!-- 4 -->
  <div class="col">
    <div class="card shadow-sm border-0 rounded-4 metric-card h-100">
      <div class="card-body">
        <div class="metric-top">
          <div class="metric-icon bg-orange">
            <span class="material-icons">monitor_heart</span>
          </div>
          <span class="metric-pill pill-orange">$8,854</span>
        </div>

        <div class="metric-kicker mt-3">Avg. Sale Price</div>
        <div class="metric-value">$88,542</div>
        <div class="metric-sub text-muted">Per vehicle</div>
      </div>
    </div>
  </div>

</section>


  <!-- REVENUE TREND -->
  <div class="card shadow-sm border-0 rounded-4 mb-4">
    <div class="card-body">
      <div class="d-flex align-items-start justify-content-between gap-2">
        <div>
          <h6 class="mb-1">Monthly Revenue Trend</h6>
          <small class="text-muted">Last 6 months performance</small>
        </div>
        <div class="text-success fw-semibold small">↗ +12% Growth</div>
      </div>

      <div class="chart-wrap mt-3">
        <canvas #revenueTrendCanvas></canvas>
      </div>
    </div>
  </div>

  <!-- 2 CHARTS -->
  <div class="row g-3 mb-4">
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm border-0 rounded-4 h-100">
        <div class="card-body">
          <h6 class="mb-3">Sales by Vehicle Make</h6>
          <div class="chart-wrap">
            <canvas #salesByMakeCanvas></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12 col-lg-6">
      <div class="card shadow-sm border-0 rounded-4 h-100">
        <div class="card-body">
          <h6 class="mb-3">Sales Distribution by Type</h6>
          <div class="chart-wrap">
            <canvas #salesByTypeCanvas></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- TOP VEHICLES TABLE -->
  <div class="card shadow-sm border-0 rounded-4 mb-4">
    <div class="card-body">
      <div class="d-flex align-items-start justify-content-between">
        <div>
          <h6 class="mb-1">Top Performing Vehicles</h6>
          <small class="text-muted">Best sellers this month</small>
        </div>
        <span class="material-icons text-warning">emoji_events</span>
      </div>

      <div class="table-responsive mt-3">
        <table class="table align-middle mb-0">
          <thead>
            <tr class="text-muted small">
              <th style="width: 90px;">Rank</th>
              <th>Vehicle</th>
              <th style="width: 130px;">Units Sold</th>
              <th style="width: 160px;">Revenue</th>
              <th style="width: 120px;">Trend</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let v of topVehicles">
              <td>
                <span class="rank-pill">{{ v.rank }}</span>
              </td>
              <td class="fw-semibold">{{ v.vehicle }}</td>
              <td>{{ v.units }}</td>
              <td class="fw-semibold">{{ v.revenue }}</td>
              <td class="text-success fw-semibold">{{ v.trend }}</td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
  </div>

  <!-- FUNNEL -->
  <div class="card shadow-sm border-0 rounded-4">
    <div class="card-body">
      <h6 class="mb-3">Sales Funnel Performance</h6>

      <div class="funnel-row" *ngFor="let f of funnel">
        <div class="d-flex justify-content-between mb-1">
          <div class="funnel-label">{{ f.label }}</div>
          <div class="text-muted small">{{ f.value }} ({{ f.pct }}%)</div>
        </div>

        <div class="progress funnel-progress">
          <div class="progress-bar" role="progressbar" [style.width.%]="f.pct"></div>
        </div>
      </div>

      <div class="card mt-4 border-0 rounded-4 funnel-summary">
        <div class="card-body d-flex justify-content-between align-items-center">
          <div>
            <div class="text-muted small">Overall Conversion Rate</div>
            <div class="fw-bold fs-4">3.87%</div>
          </div>

          <div class="text-center">
            <div class="text-muted small">Industry Average</div>
            <div class="fw-semibold">2.5%</div>
          </div>

          <div class="text-success fw-semibold">↗ +54% Better</div>
        </div>
      </div>
    </div>
  </div>

</div>
